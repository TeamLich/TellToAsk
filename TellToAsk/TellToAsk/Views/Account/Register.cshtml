@model TellToAsk.Models.RegisterViewModel
@{
    ViewBag.Title = "Register";
}

<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
</hgroup>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary()
    
    <fieldset class="form-horizontal">
        <legend>Create a new account.</legend>
        <div class="control-group">
            @Html.LabelFor(m => m.UserName, new { @class = "control-label" })
            <div class="controls">
                @Html.TextBoxFor(m => m.UserName)
            </div>   
        </div>
        <div class="control-group">
            @Html.LabelFor(m => m.Password, new { @class = "control-label" })
            <div class="controls">
                @Html.PasswordFor(m => m.Password)
            </div>
        </div>
        <div class="control-group">
            @Html.LabelFor(m => m.ConfirmPassword, new { @class = "control-label" })
                <div class="controls">
                    @Html.PasswordFor(m => m.ConfirmPassword)
                    </div>
                </div>
        <div class="control-group">
            @Html.LabelFor(m => m.Gender, new { @class = "control-label" })
            <div class="controls">
                @(Html.DropDownListFor(g=>g.Gender, new List<SelectListItem> {
                   new SelectListItem { Value = "0", Text = "Male"},
                   new SelectListItem { Value = "1", Text = "Female"},
                 })
                )
            </div>
        </div>
        <div class="control-group">
            @Html.LabelFor(m => m.BirthDate, new { @class = "control-label" })
                <div class="controls">
                   @(Html.Kendo().Calendar().Name("birthDate")
                   .Min(new DateTime(1901, 01, 01))
                   .Max(new DateTime(2001, 12, 31))
                   .Events(e => e.Change("change"))
                   )                   
                   @Html.TextBoxFor(m => m.BirthDate, new { @class = "hidden", @Id="birth-date" })
                 </div>
       </div>
          
        <div class="form-actions no-color">
            <input type="submit" value="Register" class="btn" />
        </div>
    </fieldset>
}

<script>
    function change() {
        console.log("Change : " + kendo.toString(this.value(), 'd'));
        console.log(this.value());
        console.log($("#birth-date"));
        $("#birth-date").val(kendo.toString(this.value(), 'yyyy-MM-dd'));
    }

    function navigate() {
        // console.log("Navigate");
    }
</script>

@section Scripts {
    @Scripts.Render("~/bundles/kendo")
    @Scripts.Render("~/bundles/jqueryval")

}
