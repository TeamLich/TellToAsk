@model IEnumerable<TellToAsk.Areas.LoggedUser.Models.QuestionModel>

@(Html.Kendo().Grid<TellToAsk.Areas.LoggedUser.Models.QuestionModel>()
    .Name("Grid")
    .Columns(columns =>
    {
        columns.Bound(p => p.QuestionId).Visible(false);
        columns.Bound(p => p.QuestionTitle).Title("Question").ClientTemplate(
        "#= QuestionTitle.length > 100 ? (QuestionTitle.substring(0, 100).concat('...')) : QuestionTitle #");
        columns.Bound(p => p.Category.Name).Title("Category").Width("400px").Visible(false);
        columns.Bound(p => p.DateAsked).Title("Asked on").Width("400px");
    })
    .Sortable()
    .Selectable()
    .Events(ev =>
    {
        ev.Change("showDetails").Change("onChange");
    })
        .DataSource(dataSource => dataSource
        .Ajax()
        .Group(groups => groups.Add(p => p.Category.Name))
        .Read(read => read.Action("GetMyQuestionsSimple", "LoggedUser")))
     )


<script>
    function onChange(e) {
       var grid = e.sender;
        var currentDataItem = grid.dataItem(this.select()).QuestionId;
        CallActionForShowingAllAnswers(currentDataItem);
    }

    function CallActionForShowingAllAnswers(id) {
        window.location.href = "QuestionAnswers?id=" + id;
    }
</script>

    @section Scripts {
        @Scripts.Render("~/bundles/kendo")
    }
